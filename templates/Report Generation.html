<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ava</title>
    <!-- Favicon -->
    <link rel="icon" href="static/logo.png" type="image/x-icon">
    <!-- Bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="static/report.css">
    <script>
        function validateForm(event) {
            var visitId = document.getElementById('visit-id').value;
            if (!visitId.trim()) {
                alert('Please enter the Visit ID.');
                event.preventDefault(); // Prevent form submission
            }
        }
    </script>
</head>
<body>
    <header class="header-bar">
        <div class="container d-flex justify-content-between align-items-center">
            <div class="logo">
                <a href="/"><img src="static/logo.png" alt="Ava Logo" class="favicon">Ava</a>
            </div>
            <nav class="nav-links">
                <div class="dropdown">
                    <!--Dropdown-->
                    <a class="nav-link dropdown-toggle" href="#" id="featuresDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Features</a>
                    <ul class="dropdown-menu" aria-labelledby="featuresDropdown">
                        <li><a class="dropdown-item" href="/book">Book Appointment</a></li>                        
                        <li><a class="dropdown-item" href="/reportgen">Generate Report</a></li>
                        <li><a class="dropdown-item" href="/feedback">Feedback</a></li>
                        <li><a class="dropdown-item" href="/patienthistory">Patient History</a></li>
                        <li><a class="dropdown-item" href="/govtschemes">Scheme Eligibility</a></li>
                        <li><a class="dropdown-item" href="/risk">Hospitalization Risk</a></li>
                    </ul>
                </div>
                <a class="nav-link" href="/about">About</a>
            </nav>
        </div>
    </header>
    <div class="container">
        <div class="row">
            <!--Form -->
            <section class="col-md-6 left-box">
                <div class="curved-box">
                    <h2 class="form-title">Generate Your Patient Discharge Report</h2><br>
                    <form class="patient-form" onsubmit="validateForm(event)" method="post" action='/reportgen'>
                        <div class="row mb-3">
                            <div class="col-md-12">
                                <label for="visit-id" class="form-label">Visit ID</label>
                                <input type="text" class="form-control" id="visit-id" name="visit-id" placeholder="Enter Visit ID">
                            </div>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary">Generate</button>
                        </div>
                    </form>                    
                </div>
            </section>
            <!-- Output-->
            <section class="col-md-6 right-box">
                <div class="curved-box">
                    <h3 class="output-title">Your Generated Report</h3>
                    <textarea class="form-control" id="output" rows="10" placeholder="Generated Report will appear here..." readonly>{{ report if report else "Generated Report will appear here..." }}</textarea>
                </div>
            </section>
        </div>
    </div>
</body>
</html>